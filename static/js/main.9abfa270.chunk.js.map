{"version":3,"sources":["components/Modal/modal.module.css","components/ImageGalleryItem/imageGalleryItem.module.css","components/Loader/loader.module.css","app.module.css","components/ImageGallery/imageGallery.module.css","components/Button/button.module.css","components/Loader/Loader.js","components/SearchBar/Searchbar.js","components/services/pixabay.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","App.js","index.js","components/SearchBar/searchBar.module.css"],"names":["module","exports","Oval","className","s","Loader","type","color","height","width","SearchBar","state","imageName","handleSubmit","e","preventDefault","trim","props","searchProp","setState","toast","error","handleChange","currentTarget","value","toLowerCase","Searchbar","SearchForm","onSubmit","this","SearchForm_button","SearchForm_button_label","SearchForm_input","autocomplete","autofocus","placeholder","onChange","Component","fetchImages","query","page","api_key","fetch","then","response","json","data","hits","modalRoot","document","getElementById","Modal","hanldeKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Backdrop","onClick","src","bigImage","alt","GalleryItem","image","onImageClick","ImageGalleryItem","webformatURL","tags","ImageGalleryItem_image","largeImageURL","propType","PropTypes","shape","string","func","ImageGallery","map","el","id","Button","App","loading","showModal","fetchApi","scrollOnLoadButton","catch","finally","handleSearch","handleGalleryLargeItem","toggleModal","prevState","scrollTo","top","documentElement","scrollHeight","behavior","pervProps","showMore","length","autoClose","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.9abfa270.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"modal_Backdrop__2rswv\",\"Modal\":\"modal_Modal__39NDE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"imageGalleryItem_ImageGalleryItem__2S_p_\",\"ImageGalleryItem_image\":\"imageGalleryItem_ImageGalleryItem_image__3oVhI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"loader_Loader__2P-FL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"app_App__1TOmV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__1WIS8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__3HWAP\"};","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from '../Loader/loader.module.css';\n\nconst Oval = () => (\n  <div className={s.Loader}>\n    <Loader type=\"Oval\" color=\"#00BFFF\" height={80} width={80} />\n  </div>\n);\n\nexport default Oval;\n","import { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport s from '../SearchBar/searchBar.module.css';\n\nexport default class SearchBar extends Component {\n  state = {\n    imageName: '',\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    if (this.state.imageName.trim() === '') {\n      toast.error('Input image name');\n      return;\n    }\n    this.props.searchProp(this.state.imageName);\n    this.setState({ imageName: '' });\n  };\n\n  handleChange = e => {\n    this.setState({ imageName: e.currentTarget.value.toLowerCase() });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchForm_button}>\n            <span className={s.SearchForm_button_label}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchForm_input}\n            type=\"text\"\n            autocomplete=\"off\"\n            autofocus\n            placeholder=\"Search images\"\n            value={this.state.imageName}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","export default function fetchImages(query = '', page = 1) {\n  const api_key = '23006956-b96a6e3eefb63390e039a3023';\n\n  return fetch(`https://pixabay.com/api/?q=${query}&page=${page}&key=${api_key}&image_type=photo&orientation=horizontal&per_page=12\n  `)\n    .then(response => response.json())\n    .then(data => data.hits);\n}\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './modal.module.css';\n\nconst modalRoot = document.getElementById('modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.hanldeKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.hanldeKeyDown);\n  }\n\n  hanldeKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Backdrop} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>\n          <img src={this.props.bigImage} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import PropTypes from 'prop-types';\nimport s from '../ImageGalleryItem/imageGalleryItem.module.css';\n\nexport default function GalleryItem({ image, onImageClick }) {\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        src={image.webformatURL}\n        alt={image.tags}\n        className={s.ImageGalleryItem_image}\n        onClick={() => onImageClick(image.largeImageURL)}\n      />\n    </li>\n  );\n}\n\nGalleryItem.propType = {\n  image: PropTypes.shape({\n    webformatURL: PropTypes.string,\n    largeImageURL: PropTypes.string,\n    tags: PropTypes.string,\n  }),\n  onImageClick: PropTypes.func,\n};\n","import PropTypes from 'prop-types';\nimport GalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport s from '../ImageGallery/imageGallery.module.css';\n\nconst ImageGallery = ({ data, onImageClick }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {data.map(el => {\n        return (\n          <GalleryItem key={el.id} image={el} onImageClick={onImageClick} />\n        );\n      })}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  data: PropTypes.arrayOf(PropTypes.shape({ id: PropTypes.number.isRequired })),\n  onImageClick: PropTypes.func,\n};\n\nexport default ImageGallery;\n","import PropTypes from 'prop-types';\nimport s from '../Button/button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <div>\n      <button type=\"button\" className={s.Button} onClick={onClick}>\n        Load more images\n      </button>\n    </div>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport Oval from './components/Loader/Loader';\nimport s from '../src/app.module.css';\nimport SearchBar from './components/SearchBar/Searchbar';\nimport fetchImages from './components/services/pixabay';\nimport Modal from './components/Modal/Modal';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\n\nexport default class App extends Component {\n  state = {\n    data: [],\n    query: '',\n    page: 1,\n    bigImage: '',\n    loading: false,\n    showModal: false,\n    error: null,\n  };\n\n  componentDidUpdate(pervProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.fetchApi();\n    }\n  }\n\n  fetchApi = () => {\n    const { query, page } = this.state;\n    const { scrollOnLoadButton } = this;\n    this.setState({ loading: true });\n    fetchImages(query, page)\n      .then(data => {\n        this.setState(state => ({\n          data: [...state.data, ...data],\n          page: state.page + 1,\n        }));\n        if (page !== 1) {\n          scrollOnLoadButton();\n        }\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  handleSearch = query => {\n    this.setState({\n      query,\n      page: 1,\n      data: [],\n    });\n  };\n\n  handleGalleryLargeItem = largeImageURL => {\n    this.setState({\n      bigImage: largeImageURL,\n      showModal: true,\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(prevState => ({\n      showModal: !prevState.showModal,\n      bigImage: '',\n    }));\n  };\n\n  scrollOnLoadButton = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  render() {\n    const { data, bigImage, loading, showModal } = this.state;\n    const { handleSearch, handleGalleryLargeItem, fetchApi, toggleModal } =\n      this;\n    const showMore = data.length > 0 && data.length >= 12;\n    return (\n      <div className={s.App}>\n        <SearchBar searchProp={handleSearch} />\n        <ToastContainer autoClose={3000} />\n        <ImageGallery data={data} onImageClick={handleGalleryLargeItem} />\n        {loading && <Oval />}\n        {showMore && <Button onClick={fetchApi} />}\n        {showModal && <Modal onClose={toggleModal} bigImage={bigImage} />}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchBar_Searchbar__2GW2r\",\"SearchForm\":\"searchBar_SearchForm__3BGRD\",\"SearchForm_button\":\"searchBar_SearchForm_button__2PBXa\",\"SearchForm_button_label\":\"searchBar_SearchForm_button_label__2Vhaq\",\"SearchForm_input\":\"searchBar_SearchForm_input__2C-kl\"};"],"sourceRoot":""}