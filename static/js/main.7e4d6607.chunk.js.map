{"version":3,"sources":["components/Modal/modal.module.css","components/ImageGalleryItem/imageGalleryItem.module.css","components/Loader/loader.module.css","app.module.css","components/ImageGallery/imageGallery.module.css","components/Button/button.module.css","components/Loader/Loader.js","components/SearchBar/Searchbar.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","App.js","components/services/pixabay.js","index.js","components/SearchBar/searchBar.module.css"],"names":["module","exports","Oval","className","s","Loader","type","color","height","width","SearchBar","searchProp","useState","imageName","setImageName","Searchbar","SearchForm","onSubmit","e","preventDefault","trim","toast","error","SearchForm_button","SearchForm_button_label","SearchForm_input","autocomplete","autofocus","placeholder","value","onChange","currentTarget","toLowerCase","modalRoot","document","getElementById","Modal","onClose","bigImage","useEffect","window","addEventListener","hanldeKeyDown","removeEventListener","code","createPortal","Backdrop","onClick","target","src","alt","GalleryItem","image","onImageClick","ImageGalleryItem","webformatURL","tags","ImageGalleryItem_image","largeImageURL","propType","PropTypes","shape","string","func","ImageGallery","data","map","el","id","Button","App","setData","query","setQuery","page","setPage","setBigImage","loading","setLoading","showModal","setShowModal","setError","fetchApi","api_key","fetch","then","response","json","hits","fetchImages","scrollOnLoadButton","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","showMore","length","q","autoClose","message","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.7e4d6607.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"modal_Backdrop__2rswv\",\"Modal\":\"modal_Modal__39NDE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"imageGalleryItem_ImageGalleryItem__2S_p_\",\"ImageGalleryItem_image\":\"imageGalleryItem_ImageGalleryItem_image__3oVhI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"loader_Loader__2P-FL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"app_App__1TOmV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__1WIS8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__3HWAP\"};","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from '../Loader/loader.module.css';\n\nconst Oval = () => (\n  <div className={s.Loader}>\n    <Loader type=\"Oval\" color=\"#00BFFF\" height={80} width={80} />\n  </div>\n);\n\nexport default Oval;\n","import { useState } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport s from '../SearchBar/searchBar.module.css';\n\nexport default function SearchBar({ searchProp }) {\n  const [imageName, setImageName] = useState('');\n\n  const handleChange = e => {\n    setImageName(e.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (imageName.trim() === '') {\n      toast.error('Input image name');\n      return;\n    }\n    searchProp(imageName);\n    setImageName('');\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.SearchForm_button}>\n          <span className={s.SearchForm_button_label}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchForm_input}\n          type=\"text\"\n          autocomplete=\"off\"\n          autofocus\n          placeholder=\"Search images\"\n          value={imageName}\n          onChange={handleChange}\n        />\n      </form>\n    </header>\n  );\n}\n","import { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\nimport s from './modal.module.css';\n\nconst modalRoot = document.getElementById('modal-root');\n\nexport default function Modal({ onClose, bigImage }) {\n  useEffect(() => {\n    window.addEventListener('keydown', hanldeKeyDown);\n    return () => {\n      window.removeEventListener('keydown', hanldeKeyDown);\n    };\n  });\n\n  const handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  const hanldeKeyDown = e => {\n    if (e.code === 'Escape') {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={s.Backdrop} onClick={handleBackdropClick}>\n      <div className={s.Modal}>\n        <img src={bigImage} alt=\"\" />\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func,\n  bigImage: PropTypes.string,\n};\n","import PropTypes from 'prop-types';\nimport s from '../ImageGalleryItem/imageGalleryItem.module.css';\n\nexport default function GalleryItem({ image, onImageClick }) {\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        src={image.webformatURL}\n        alt={image.tags}\n        className={s.ImageGalleryItem_image}\n        onClick={() => onImageClick(image.largeImageURL)}\n      />\n    </li>\n  );\n}\n\nGalleryItem.propType = {\n  image: PropTypes.shape({\n    webformatURL: PropTypes.string,\n    largeImageURL: PropTypes.string,\n    tags: PropTypes.string,\n  }),\n  onImageClick: PropTypes.func,\n};\n","import PropTypes from 'prop-types';\nimport GalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport s from '../ImageGallery/imageGallery.module.css';\n\nconst ImageGallery = ({ data, onImageClick }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {data.map(el => {\n        return (\n          <GalleryItem key={el.id} image={el} onImageClick={onImageClick} />\n        );\n      })}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  data: PropTypes.arrayOf(PropTypes.shape({ id: PropTypes.number.isRequired })),\n  onImageClick: PropTypes.func,\n};\n\nexport default ImageGallery;\n","import PropTypes from 'prop-types';\nimport s from '../Button/button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <div>\n      <button type=\"button\" className={s.Button} onClick={onClick}>\n        Load more images\n      </button>\n    </div>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { useEffect, useState } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport Oval from './components/Loader/Loader';\nimport s from '../src/app.module.css';\nimport SearchBar from './components/SearchBar/Searchbar';\nimport fetchImages from './components/services/pixabay';\nimport Modal from './components/Modal/Modal';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\n\nexport default function App() {\n  const [data, setData] = useState([]);\n  const [query, setQuery] = useState('');\n  const [page, setPage] = useState(1);\n  const [bigImage, setBigImage] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n    fetchApi();\n  }, [query]);\n\n  const fetchApi = () => {\n    setLoading(true);\n\n    fetchImages(query, page)\n      .then(data => {\n        setData(s => [...s, ...data]);\n        setPage(s => s + 1);\n\n        if (page !== 1) {\n          scrollOnLoadButton();\n        }\n      })\n      .catch(error => setError(error))\n      .finally(() => setLoading(false));\n  };\n\n  const handleSearch = q => {\n    setQuery(q);\n    setPage(1);\n    setData([]);\n  };\n\n  const handleGalleryLargeItem = largeImageURL => {\n    setBigImage(largeImageURL);\n    setShowModal(true);\n  };\n\n  const toggleModal = () => {\n    setShowModal(s => !s);\n    setBigImage('');\n  };\n\n  const scrollOnLoadButton = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  const showMore = data.length > 0 && data.length >= 12;\n\n  return (\n    <div className={s.App}>\n      <SearchBar searchProp={handleSearch} />\n      <ToastContainer autoClose={3000} />\n      <ImageGallery data={data} onImageClick={handleGalleryLargeItem} />\n      {loading && <Oval />}\n      {error && <h3>{error.message}</h3>}\n      {showMore && <Button onClick={fetchApi} />}\n      {showModal && <Modal onClose={toggleModal} bigImage={bigImage} />}\n    </div>\n  );\n}\n","export default function fetchImages(query = '', page = 1) {\n  const api_key = '23006956-b96a6e3eefb63390e039a3023';\n\n  return fetch(`https://pixabay.com/api/?q=${query}&page=${page}&key=${api_key}&image_type=photo&orientation=horizontal&per_page=12\n  `)\n    .then(response => response.json())\n    .then(data => data.hits);\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchBar_Searchbar__2GW2r\",\"SearchForm\":\"searchBar_SearchForm__3BGRD\",\"SearchForm_button\":\"searchBar_SearchForm_button__2PBXa\",\"SearchForm_button_label\":\"searchBar_SearchForm_button_label__2Vhaq\",\"SearchForm_input\":\"searchBar_SearchForm_input__2C-kl\"};"],"sourceRoot":""}