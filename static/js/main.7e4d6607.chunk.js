(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={Backdrop:"modal_Backdrop__2rswv",Modal:"modal_Modal__39NDE"}},11:function(e,t,a){e.exports={ImageGalleryItem:"imageGalleryItem_ImageGalleryItem__2S_p_",ImageGalleryItem_image:"imageGalleryItem_ImageGalleryItem_image__3oVhI"}},14:function(e,t,a){e.exports={Loader:"loader_Loader__2P-FL"}},15:function(e,t,a){e.exports={App:"app_App__1TOmV"}},16:function(e,t,a){e.exports={ImageGallery:"imageGallery_ImageGallery__1WIS8"}},17:function(e,t,a){e.exports={Button:"button_Button__3HWAP"}},22:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(4),o=a.n(r),i=(a(22),a(12)),s=a(3),l=a(8),u=a(13),m=a.n(u),b=(a(43),a(14)),j=a.n(b),h=a(1),g=function(){return Object(h.jsx)("div",{className:j.a.Loader,children:Object(h.jsx)(m.a,{type:"Oval",color:"#00BFFF",height:80,width:80})})},_=a(15),d=a.n(_),f=(a(45),a(5)),p=a.n(f);function O(e){var t=e.searchProp,a=Object(n.useState)(""),c=Object(s.a)(a,2),r=c[0],o=c[1];return Object(h.jsx)("header",{className:p.a.Searchbar,children:Object(h.jsxs)("form",{className:p.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),o("")):l.b.error("Input image name")},children:[Object(h.jsx)("button",{type:"submit",className:p.a.SearchForm_button,children:Object(h.jsx)("span",{className:p.a.SearchForm_button_label,children:"Search"})}),Object(h.jsx)("input",{className:p.a.SearchForm_input,type:"text",autocomplete:"off",autofocus:!0,placeholder:"Search images",value:r,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})}var x=a(10),I=a.n(x),v=document.getElementById("modal-root");function S(e){var t=e.onClose,a=e.bigImage;Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(r.createPortal)(Object(h.jsx)("div",{className:I.a.Backdrop,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(h.jsx)("div",{className:I.a.Modal,children:Object(h.jsx)("img",{src:a,alt:""})})}),v)}var y=a(2),k=a.n(y),w=a(11),B=a.n(w);function C(e){var t=e.image,a=e.onImageClick;return Object(h.jsx)("li",{className:B.a.ImageGalleryItem,children:Object(h.jsx)("img",{src:t.webformatURL,alt:t.tags,className:B.a.ImageGalleryItem_image,onClick:function(){return a(t.largeImageURL)}})})}C.propType={image:k.a.shape({webformatURL:k.a.string,largeImageURL:k.a.string,tags:k.a.string}),onImageClick:k.a.func};var F=a(16),G=a.n(F),N=function(e){var t=e.data,a=e.onImageClick;return Object(h.jsx)("ul",{className:G.a.ImageGallery,children:t.map((function(e){return Object(h.jsx)(C,{image:e,onImageClick:a},e.id)}))})},L=a(17),E=a.n(L),P=function(e){var t=e.onClick;return Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"button",className:E.a.Button,onClick:t,children:"Load more images"})})};function R(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),o=Object(s.a)(r,2),u=o[0],m=o[1],b=Object(n.useState)(1),j=Object(s.a)(b,2),_=j[0],f=j[1],p=Object(n.useState)(""),x=Object(s.a)(p,2),I=x[0],v=x[1],y=Object(n.useState)(!1),k=Object(s.a)(y,2),w=k[0],B=k[1],C=Object(n.useState)(!1),F=Object(s.a)(C,2),G=F[0],L=F[1],E=Object(n.useState)(null),R=Object(s.a)(E,2),T=R[0],A=R[1];Object(n.useEffect)((function(){u&&M()}),[u]);var M=function(){B(!0),function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t="23006956-b96a6e3eefb63390e039a3023";return fetch("https://pixabay.com/api/?q=".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"","&page=").concat(e,"&key=").concat(t,"&image_type=photo&orientation=horizontal&per_page=12\n  ")).then((function(e){return e.json()})).then((function(e){return e.hits}))}(u,_).then((function(e){c((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),f((function(e){return e+1})),1!==_&&U()})).catch((function(e){return A(e)})).finally((function(){return B(!1)}))},U=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},D=a.length>0&&a.length>=12;return Object(h.jsxs)("div",{className:d.a.App,children:[Object(h.jsx)(O,{searchProp:function(e){m(e),f(1),c([])}}),Object(h.jsx)(l.a,{autoClose:3e3}),Object(h.jsx)(N,{data:a,onImageClick:function(e){v(e),L(!0)}}),w&&Object(h.jsx)(g,{}),T&&Object(h.jsx)("h3",{children:T.message}),D&&Object(h.jsx)(P,{onClick:M}),G&&Object(h.jsx)(S,{onClose:function(){L((function(e){return!e})),v("")},bigImage:I})]})}o.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(R,{})}),document.getElementById("root"))},5:function(e,t,a){e.exports={Searchbar:"searchBar_Searchbar__2GW2r",SearchForm:"searchBar_SearchForm__3BGRD",SearchForm_button:"searchBar_SearchForm_button__2PBXa",SearchForm_button_label:"searchBar_SearchForm_button_label__2Vhaq",SearchForm_input:"searchBar_SearchForm_input__2C-kl"}}},[[46,1,2]]]);
//# sourceMappingURL=main.7e4d6607.chunk.js.map